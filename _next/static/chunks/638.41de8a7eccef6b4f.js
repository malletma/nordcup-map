"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[638],{2638:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var i=r(5155),n=r(2115),o=r(5027),a=r.n(o),d=r(4634),s=r(6477);let l={de:{filter:"Filter:",food:"Verpflegung",startGoal:"Start / Ziel"},en:{filter:"Filter:",food:"Food station",startGoal:"Start / Finish"}};function c(){let[e,t]=(0,n.useState)("de");(0,n.useEffect)(()=>{try{let e=localStorage.getItem("nordcup-prefs");if(e){let r=JSON.parse(e);("en"===r.lang||"de"===r.lang)&&t(r.lang)}}catch(e){}},[]);let r=l[e],o=(0,n.useRef)(null),c=(0,n.useRef)(null),p=(0,n.useRef)({}),[f,u]=(0,n.useState)(Object.fromEntries(d.J.map(e=>[e.id,!0])));return(0,n.useEffect)(()=>{if(!o.current||c.current)return;let t=a().map(o.current,{center:[54.48,9.62],zoom:10,zoomControl:!0});a().tileLayer("https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://carto.com/attributions">Carto</a> &mdash; \xa9 OpenStreetMap',maxZoom:18}).addTo(t);let r=a().divIcon({className:"",html:'<div style="width:28px;height:28px;background:#fff;border:3px solid #e8491d;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:800;color:#e8491d;box-shadow:0 2px 8px rgba(0,0,0,0.4);">S</div>',iconSize:[28,28],iconAnchor:[14,14]});a().marker(d.d,{icon:r,zIndexOffset:1e3}).addTo(t).bindPopup("<b>".concat("en"===e?"Start / Finish":"Start / Ziel","</b><br>Dannewerkschule<br>Erikstra\xdfe 50, Schleswig")),d.J.forEach(e=>{let r=a().polyline(e.track,{color:e.color,weight:"marathon"===e.id?4:3,opacity:.85,dashArray:e.id.startsWith("rtf")?"8,6":void 0,smoothFactor:1.5}).addTo(t);p.current[e.id]=r});let i=a().divIcon({className:"",html:'<div style="width:22px;height:22px;background:#f39c12;border:2px solid #fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:11px;box-shadow:0 2px 6px rgba(0,0,0,0.5);">\uD83C\uDF4C</div>',iconSize:[22,22],iconAnchor:[11,11]});s.a.slice(1).forEach(e=>{a().marker([e.lat,e.lng],{icon:i,zIndexOffset:500}).addTo(t).bindPopup('\n          <div class="station-popup">\n            <div class="sp-name">'.concat(e.name,'</div>\n            <div class="sp-km">KM ').concat(e.km,'</div>\n            <div class="sp-items">').concat(e.offerings.join(" \xb7 "),"</div>\n          </div>\n        "))}),c.current=t;let n=()=>t.invalidateSize();return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n),t.remove(),c.current=null}},[]),(0,i.jsxs)("div",{style:{borderRadius:14,overflow:"hidden",border:"1px solid rgba(255,255,255,0.06)",background:"#131c2e"},children:[(0,i.jsxs)("div",{style:{padding:"16px 20px",display:"flex",flexWrap:"wrap",alignItems:"center",gap:8,borderBottom:"1px solid rgba(255,255,255,0.06)",background:"#131c2e"},children:[(0,i.jsx)("span",{style:{fontSize:13,fontWeight:600,color:"#7a8599",marginRight:6},children:r.filter}),d.J.map(e=>{let t=f[e.id];return(0,i.jsxs)("button",{onClick:()=>(e=>{let t=c.current;t&&u(r=>{var i;let n={...r,[e]:!r[e]};return n[e]?null==(i=p.current[e])||i.addTo(t):t.removeLayer(p.current[e]),n})})(e.id),style:{display:"inline-flex",alignItems:"center",gap:6,padding:"6px 14px",borderRadius:999,fontSize:13,fontWeight:600,cursor:"pointer",transition:"all 0.2s",border:"1.5px solid ".concat(e.color),background:t?e.color+"22":"transparent",color:e.color,opacity:t?1:.45,fontFamily:"inherit"},children:[(0,i.jsx)("span",{style:{width:8,height:8,borderRadius:"50%",background:e.color,flexShrink:0}}),e.name," (",e.distance," km)"]},e.id)})]}),(0,i.jsx)("div",{ref:o,style:{width:"100%",height:560}}),(0,i.jsxs)("div",{style:{padding:"12px 20px",display:"flex",flexWrap:"wrap",gap:14,borderTop:"1px solid rgba(255,255,255,0.06)",background:"#131c2e"},children:[d.J.map(e=>(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,fontSize:12,color:"#7a8599"},children:[(0,i.jsx)("div",{style:{width:10,height:10,borderRadius:"50%",background:e.color}}),e.name," ",e.distance," km"]},e.id)),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,fontSize:12,color:"#7a8599"},children:[(0,i.jsx)("span",{style:{fontSize:14},children:"\uD83C\uDF4C"})," ",r.food]})]})]})}}}]);