(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{63:(e,t,r)=>{"use strict";var o=r(7260);r.o(o,"useRouter")&&r.d(t,{useRouter:function(){return o.useRouter}})},5404:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var o=r(5155),n=r(63),i=r(2115),a=r(8209),s=r(2619),l=r.n(s);let c={de:{title:"Mein Bereich",sub:"Pers\xf6nliches Radsport-Dashboard",label:"Passwort",error:"Falsches Passwort. Bitte nochmal versuchen.",btn:"Einloggen →",loading:"Einloggen …",locked:"Gesperrt ⏳",lockMsg:"Zu viele Versuche. Bitte 60 Sekunden warten.",footer:"Privater Bereich — nur f\xfcr den Besitzer dieser Seite.",backLink:"Zur Karte"},en:{title:"My Dashboard",sub:"Personal Cycling Dashboard",label:"Password",error:"Wrong password. Please try again.",btn:"Log in →",loading:"Logging in …",locked:"Locked ⏳",lockMsg:"Too many attempts. Please wait 60 seconds.",footer:"Private area — only for the owner of this page.",backLink:"Back to Map"}};function d(){let e=(0,n.useRouter)(),[t,r]=(0,i.useState)(""),[s,d]=(0,i.useState)(!1),[u,g]=(0,i.useState)(!1),[f,p]=(0,i.useState)(0),[h,b]=(0,i.useState)(!1),[y,m]=(0,i.useState)(""),[x,S]=(0,i.useState)("de");(0,i.useEffect)(()=>{try{let e=localStorage.getItem("nordcup-prefs");if(e){let t=JSON.parse(e);("en"===t.lang||"de"===t.lang)&&S(t.lang)}}catch(e){}},[]);let w=c[x];async function k(o){if(o.preventDefault(),h)return;g(!0),d(!1);let n=Math.min(400*Math.pow(2,f),3e4);if(await new Promise(e=>setTimeout(e,n)),await (0,a.iD)(t))e.push("/mein-bereich");else{let e=f+1;p(e),d(!0),g(!1),r(""),e>=5&&(b(!0),m(w.lockMsg),setTimeout(()=>{b(!1),p(0),m("")},6e4))}}return(0,o.jsxs)("div",{style:{minHeight:"100vh",background:"#0a0f1a",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontFamily:"var(--font-inter, 'Inter'), ui-sans-serif, system-ui, sans-serif",WebkitFontSmoothing:"antialiased",padding:"0 20px"},children:[(0,o.jsxs)(l(),{href:"/",style:{position:"absolute",top:24,left:24,display:"flex",alignItems:"center",gap:6,color:"#7a8599",fontSize:13,fontWeight:500},children:[(0,o.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",style:{width:16,height:16},children:(0,o.jsx)("path",{d:"M15 18l-6-6 6-6"})}),w.backLink]}),(0,o.jsx)("button",{onClick:()=>{let e="de"===x?"en":"de";S(e);try{let t=localStorage.getItem("nordcup-prefs"),r=t?JSON.parse(t):{};r.lang=e,localStorage.setItem("nordcup-prefs",JSON.stringify(r))}catch(e){}},style:{position:"absolute",top:24,right:24,padding:"4px 10px",background:"rgba(61,125,214,0.1)",border:"1px solid rgba(61,125,214,0.2)",color:"#3d7dd6",borderRadius:8,fontSize:12,fontWeight:800,cursor:"pointer",fontFamily:"inherit"},children:"de"===x?"\uD83C\uDDE9\uD83C\uDDEA":"\uD83C\uDDEC\uD83C\uDDE7"}),(0,o.jsxs)("div",{style:{width:"100%",maxWidth:400,background:"#0f1724",border:"1px solid rgba(255,255,255,0.07)",borderRadius:18,padding:"40px 36px 44px",boxShadow:"0 24px 80px rgba(0,0,0,0.5)"},children:[(0,o.jsxs)("div",{style:{textAlign:"center",marginBottom:28},children:[(0,o.jsx)("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:60,height:60,borderRadius:16,background:"linear-gradient(135deg, #1e3a5f, #3d7dd6)",fontSize:28,marginBottom:16,boxShadow:"0 8px 24px rgba(61,125,214,0.3)"},children:"\uD83D\uDEB4"}),(0,o.jsx)("h1",{style:{fontSize:"1.5rem",fontWeight:800,color:"#e6eef8",margin:0,letterSpacing:"-0.01em"},children:w.title}),(0,o.jsx)("p",{style:{color:"#7a8599",fontSize:14,marginTop:6,marginBottom:0},children:w.sub})]}),(0,o.jsxs)("form",{onSubmit:k,style:{display:"flex",flexDirection:"column",gap:16},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:13,fontWeight:600,color:"#c8d3e5",marginBottom:8},children:w.label}),(0,o.jsx)("input",{type:"password",value:t,onChange:e=>{r(e.target.value),d(!1)},placeholder:"••••••••••••",autoFocus:!0,autoComplete:"current-password",style:{width:"100%",boxSizing:"border-box",padding:"12px 16px",background:"#0b1220",border:"1.5px solid ".concat(s?"#e74c3c":"rgba(255,255,255,0.1)"),borderRadius:10,color:"#e6eef8",fontSize:15,outline:"none",transition:"border-color 0.2s",fontFamily:"inherit"},onFocus:e=>!s&&(e.target.style.borderColor="#3d7dd6"),onBlur:e=>!s&&(e.target.style.borderColor="rgba(255,255,255,0.1)")}),s&&(0,o.jsx)("p",{style:{color:"#e74c3c",fontSize:13,marginTop:6,marginBottom:0},children:w.error}),y&&(0,o.jsx)("p",{style:{color:"#f59e0b",fontSize:13,marginTop:6,marginBottom:0},children:y})]}),(0,o.jsx)("button",{type:"submit",disabled:u||!t||h,style:{padding:"13px 24px",background:u?"rgba(61,125,214,0.5)":"linear-gradient(135deg, #2563eb, #3d7dd6)",color:"#fff",border:"none",borderRadius:10,fontSize:15,fontWeight:700,cursor:u||!t||h?"default":"pointer",transition:"opacity 0.2s, transform 0.1s",marginTop:4,letterSpacing:"0.01em",fontFamily:"inherit",boxShadow:"0 4px 16px rgba(37,99,235,0.3)",opacity:!t||h?.6:1},children:h?w.locked:u?w.loading:w.btn})]}),(0,o.jsx)("p",{style:{textAlign:"center",marginTop:24,marginBottom:0,fontSize:12,color:"#4a5568"},children:w.footer})]})]})}},5910:(e,t,r)=>{"use strict";r.d(t,{GO:()=>c,bf:()=>a,eT:()=>i,gq:()=>s,ph:()=>l});let o="nordcup_dk";function n(e){let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=parseInt(e.slice(r,r+2),16);return t}function i(e){try{sessionStorage.setItem(o,e)}catch(e){}}function a(){try{return sessionStorage.getItem(o)}catch(e){return null}}function s(){try{sessionStorage.removeItem(o)}catch(e){}}function l(e){return e&&!0===e._encrypted&&"string"==typeof e.iv&&"string"==typeof e.data}async function c(e){let t=a();if(!t)throw Error("NO_KEY");let r=n(t),o=n(e.iv),i=atob(e.data),s=new ArrayBuffer(i.length),l=new Uint8Array(s);for(let e=0;e<i.length;e++)l[e]=i.charCodeAt(e);let c=await crypto.subtle.importKey("raw",r.buffer,"AES-GCM",!1,["decrypt"]),d=await crypto.subtle.decrypt({name:"AES-GCM",iv:o.buffer,tagLength:128},c,s);return JSON.parse(new TextDecoder().decode(d))}},6878:(e,t,r)=>{Promise.resolve().then(r.bind(r,5404))},8209:(e,t,r)=>{"use strict";r.d(t,{iD:()=>s,ri:()=>l,wR:()=>c});var o=r(5910);let n="nordcup_auth",i="authenticated";async function a(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("")}async function s(e){let t="3e138a3690f57fbed73cf277da807a9058ba6a37711c3f2c0ba084dfe400e941";if(!t)return console.error("NEXT_PUBLIC_PASSWORD_HASH is not configured"),!1;let r=await a(e);if(r===t){try{sessionStorage.setItem(n,i)}catch(e){}return(0,o.eT)(r),!0}return!1}function l(){try{sessionStorage.removeItem(n)}catch(e){}(0,o.gq)()}function c(){try{return sessionStorage.getItem(n)===i}catch(e){return!1}}}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=6878)),_N_E=e.O()}]);