<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Security Audit Report ‚Äî NordCup Radsport-Dashboard</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');

  :root {
    --bg: #0a0f1a; --bg2: #111827; --bg3: #1f2937;
    --border: #374151; --border-light: #4b5563;
    --text: #f1f5f9; --text-muted: #94a3b8; --text-dim: #64748b;
    --green: #22c55e; --green-bg: rgba(34,197,94,0.1); --green-border: rgba(34,197,94,0.3);
    --red: #ef4444; --red-bg: rgba(239,68,68,0.1); --red-border: rgba(239,68,68,0.3);
    --yellow: #f59e0b; --yellow-bg: rgba(245,158,11,0.1); --yellow-border: rgba(245,158,11,0.3);
    --blue: #3b82f6; --blue-bg: rgba(59,130,246,0.1); --blue-border: rgba(59,130,246,0.3);
    --purple: #8b5cf6; --purple-bg: rgba(139,92,246,0.1);
    --accent: #38bdf8;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  @page { size: A4; margin: 15mm; }
  body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    font-size: 11pt; line-height: 1.7; color: var(--text);
    background: var(--bg); max-width: 1000px; margin: 0 auto; padding: 40px 32px;
    -webkit-font-smoothing: antialiased;
  }
  @media print {
    body { padding: 0; max-width: none; background: #fff; color: #1e293b; font-size: 9.5pt; }
    :root { --bg: #fff; --bg2: #f8fafc; --bg3: #f1f5f9; --border: #e2e8f0; --border-light: #cbd5e1;
            --text: #1e293b; --text-muted: #475569; --text-dim: #64748b; }
    .no-print { display: none !important; }
    .page-break { page-break-before: always; }
    h2 { page-break-after: avoid; }
    .finding-card, .owasp-row, .metric-card { page-break-inside: avoid; }
  }

  /* ‚îÄ‚îÄ Cover ‚îÄ‚îÄ */
  .cover {
    min-height: 85vh; display: flex; flex-direction: column;
    justify-content: center; text-align: center; padding: 60px 0;
  }
  .cover-shield { font-size: 80px; margin-bottom: 24px; filter: drop-shadow(0 0 40px rgba(34,197,94,0.4)); }
  .cover h1 { font-size: 36pt; font-weight: 900; letter-spacing: -0.03em; line-height: 1.1; margin-bottom: 8px; }
  .cover .subtitle { font-size: 15pt; color: var(--accent); font-weight: 600; margin-bottom: 40px; }
  .cover-meta { display: flex; flex-direction: column; gap: 4px; font-size: 10pt; color: var(--text-muted); }
  .cover-line { width: 80px; height: 4px; background: linear-gradient(90deg, var(--green), var(--accent)); border-radius: 2px; margin: 24px auto; }
  .cover-badge {
    display: inline-block; margin-top: 32px; padding: 12px 32px;
    background: var(--green-bg); border: 2px solid var(--green-border);
    border-radius: 12px; font-size: 14pt; font-weight: 800; color: var(--green);
    letter-spacing: 2px;
  }

  /* ‚îÄ‚îÄ Headlines ‚îÄ‚îÄ */
  h2 {
    font-size: 18pt; font-weight: 900; margin: 48px 0 20px;
    padding-bottom: 10px; border-bottom: 2px solid var(--border);
    display: flex; align-items: center; gap: 12px;
  }
  h2 .icon { font-size: 22px; }
  h3 { font-size: 13pt; font-weight: 800; color: var(--accent); margin: 28px 0 12px; }
  h4 { font-size: 11pt; font-weight: 700; margin: 16px 0 8px; color: var(--text); }
  p { margin: 0 0 12px; }
  a { color: var(--accent); text-decoration: none; }
  a:hover { text-decoration: underline; }

  /* ‚îÄ‚îÄ Score Dashboard ‚îÄ‚îÄ */
  .score-grid {
    display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 16px; margin: 32px 0;
  }
  .metric-card {
    background: var(--bg2); border: 1px solid var(--border);
    border-radius: 14px; padding: 20px; text-align: center;
    position: relative; overflow: hidden;
  }
  .metric-card::before {
    content: ''; position: absolute; top: 0; left: 0; right: 0; height: 3px;
    background: var(--green); border-radius: 3px 3px 0 0;
  }
  .metric-card.warn::before { background: var(--yellow); }
  .metric-card .value { font-size: 32pt; font-weight: 900; color: var(--green); line-height: 1; }
  .metric-card.warn .value { color: var(--yellow); }
  .metric-card .label { font-size: 9pt; font-weight: 700; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px; margin-top: 8px; }

  /* ‚îÄ‚îÄ Progress Ring (SVG) ‚îÄ‚îÄ */
  .ring-container { display: flex; justify-content: center; margin: 32px 0; }
  .ring-wrapper { position: relative; width: 200px; height: 200px; }
  .ring-svg { transform: rotate(-90deg); }
  .ring-bg { fill: none; stroke: var(--bg3); stroke-width: 10; }
  .ring-fill { fill: none; stroke: var(--green); stroke-width: 10; stroke-linecap: round; transition: stroke-dashoffset 1s ease; }
  .ring-label {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    text-align: center;
  }
  .ring-label .pct { font-size: 36pt; font-weight: 900; color: var(--green); line-height: 1; }
  .ring-label .sub { font-size: 9pt; color: var(--text-muted); font-weight: 600; text-transform: uppercase; letter-spacing: 1px; }

  /* ‚îÄ‚îÄ OWASP Table ‚îÄ‚îÄ */
  .owasp-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
  .owasp-table th {
    background: var(--bg3); font-weight: 700; text-align: left;
    padding: 12px 16px; border-bottom: 2px solid var(--border);
    font-size: 9pt; text-transform: uppercase; letter-spacing: 0.5px; color: var(--text-muted);
  }
  .owasp-table td { padding: 12px 16px; border-bottom: 1px solid var(--border); vertical-align: top; }
  .owasp-row { transition: background 0.2s; }
  .owasp-row:hover { background: var(--bg2); }
  .owasp-id { font-weight: 800; color: var(--accent); font-size: 10pt; white-space: nowrap; }
  .owasp-name { font-weight: 600; }

  /* ‚îÄ‚îÄ Status Badges ‚îÄ‚îÄ */
  .badge {
    display: inline-flex; align-items: center; gap: 5px;
    font-size: 8.5pt; font-weight: 800; padding: 4px 12px;
    border-radius: 999px; text-transform: uppercase; letter-spacing: 0.5px;
    white-space: nowrap;
  }
  .badge-green { background: var(--green-bg); color: var(--green); border: 1px solid var(--green-border); }
  .badge-yellow { background: var(--yellow-bg); color: var(--yellow); border: 1px solid var(--yellow-border); }
  .badge-red { background: var(--red-bg); color: var(--red); border: 1px solid var(--red-border); }
  .badge-blue { background: var(--blue-bg); color: var(--blue); border: 1px solid var(--blue-border); }
  .badge-dot { width: 6px; height: 6px; border-radius: 50%; }
  .badge-green .badge-dot { background: var(--green); }
  .badge-yellow .badge-dot { background: var(--yellow); }

  /* ‚îÄ‚îÄ Finding Cards ‚îÄ‚îÄ */
  .finding-card {
    background: var(--bg2); border: 1px solid var(--border); border-radius: 14px;
    padding: 24px; margin: 16px 0; position: relative;
  }
  .finding-card.fixed { border-left: 4px solid var(--green); }
  .finding-card.info { border-left: 4px solid var(--blue); }
  .finding-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px; }
  .finding-title { font-weight: 800; font-size: 11pt; }
  .finding-file { font-size: 9pt; color: var(--text-dim); margin-top: 4px; font-family: 'SF Mono', monospace; }
  .finding-body { font-size: 10pt; color: var(--text-muted); }
  .finding-body code {
    font-family: 'SF Mono', 'Fira Code', monospace; font-size: 9pt;
    background: var(--bg3); padding: 2px 7px; border-radius: 5px; color: var(--accent);
  }
  .finding-diff {
    background: var(--bg); border: 1px solid var(--border); border-radius: 8px;
    padding: 12px 16px; margin: 12px 0 0; font-family: 'SF Mono', monospace;
    font-size: 8.5pt; line-height: 1.9; overflow-x: auto;
  }
  .diff-del { color: var(--red); }
  .diff-add { color: var(--green); }

  /* ‚îÄ‚îÄ Headers Table ‚îÄ‚îÄ */
  .headers-table { width: 100%; border-collapse: collapse; margin: 16px 0; font-size: 10pt; }
  .headers-table th {
    background: var(--bg3); font-weight: 700; text-align: left;
    padding: 10px 14px; border-bottom: 2px solid var(--border); font-size: 9pt;
    text-transform: uppercase; letter-spacing: 0.5px; color: var(--text-muted);
  }
  .headers-table td { padding: 10px 14px; border-bottom: 1px solid var(--border); }
  .header-name { font-weight: 700; font-family: 'SF Mono', monospace; font-size: 9pt; color: var(--accent); }
  .header-value { font-size: 8.5pt; color: var(--text-muted); font-family: 'SF Mono', monospace; word-break: break-all; }

  /* ‚îÄ‚îÄ Checklist ‚îÄ‚îÄ */
  .checklist { list-style: none; padding: 0; margin: 16px 0; }
  .checklist li {
    display: flex; align-items: flex-start; gap: 10px;
    padding: 10px 0; border-bottom: 1px solid var(--border); font-size: 10.5pt;
  }
  .checklist li:last-child { border-bottom: none; }
  .check-icon { flex-shrink: 0; width: 22px; height: 22px; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 12px; font-weight: 900; }
  .check-pass { background: var(--green-bg); color: var(--green); border: 1.5px solid var(--green-border); }
  .check-warn { background: var(--yellow-bg); color: var(--yellow); border: 1.5px solid var(--yellow-border); }

  /* ‚îÄ‚îÄ Info Box ‚îÄ‚îÄ */
  .info-box {
    background: var(--bg2); border: 1px solid var(--border); border-left: 4px solid var(--accent);
    border-radius: 0 10px 10px 0; padding: 16px 20px; margin: 16px 0; font-size: 10pt;
  }
  .info-box.success { border-left-color: var(--green); }
  .info-box-title { font-weight: 700; margin-bottom: 6px; display: flex; align-items: center; gap: 6px; }

  /* ‚îÄ‚îÄ TOC ‚îÄ‚îÄ */
  .toc { margin: 24px 0; }
  .toc a {
    display: flex; justify-content: space-between; text-decoration: none;
    color: var(--text-muted); padding: 8px 0; border-bottom: 1px dotted var(--border); font-size: 10.5pt;
  }
  .toc a:hover { color: var(--accent); }
  .toc .snum { color: var(--accent); font-weight: 700; margin-right: 10px; }

  .footer {
    margin-top: 60px; padding-top: 16px; border-top: 1px solid var(--border);
    font-size: 8.5pt; color: var(--text-dim); text-align: center;
  }
  .print-btn {
    position: fixed; bottom: 30px; right: 30px; background: var(--green); color: #000;
    border: none; padding: 14px 28px; border-radius: 12px; font-size: 14px;
    font-weight: 800; cursor: pointer; box-shadow: 0 4px 24px rgba(34,197,94,0.4);
    font-family: inherit; z-index: 100;
  }
  .print-btn:hover { background: #16a34a; }
  ul, ol { margin: 0 0 12px; padding-left: 20px; }
  li { margin-bottom: 4px; }
</style>
</head>
<body>

<button class="print-btn no-print" onclick="window.print()">üñ®Ô∏è Als PDF drucken</button>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê COVER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="cover">
  <div class="cover-shield">üõ°Ô∏è</div>
  <h1 style="border:none;padding:0;margin:0 0 8px;">Security Audit Report</h1>
  <div class="subtitle">NordCup Radsport-Dashboard ‚Äî Penetration Test & H√§rtung</div>
  <div class="cover-line"></div>
  <div class="cover-meta">
    <div><strong>Scope:</strong> https://malletma.github.io/nordcup-map/</div>
    <div><strong>Methodik:</strong> OWASP Top 10 (2025) + Best Practices + Code Review</div>
    <div><strong>Status:</strong> Post-H√§rtung ‚Äî alle Schwachstellen behoben</div>
    <div><strong>Datum:</strong> 20. Februar 2026</div>
  </div>
  <div class="cover-badge">‚úÖ ALLE PR√úFPUNKTE BESTANDEN</div>
</div>

<div class="page-break"></div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TOC ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<h2 style="margin-top:0;"><span class="icon">üìã</span> Inhaltsverzeichnis</h2>
<div class="toc">
  <a href="#s1"><span><span class="snum">1</span>Executive Summary & Gesamtbewertung</span></a>
  <a href="#s2"><span><span class="snum">2</span>Security Score Dashboard</span></a>
  <a href="#s3"><span><span class="snum">3</span>OWASP Top 10 (2025) ‚Äî Vollst√§ndige Bewertung</span></a>
  <a href="#s4"><span><span class="snum">4</span>Gefundene Schwachstellen & Behebung</span></a>
  <a href="#s5"><span><span class="snum">5</span>HTTP Security Headers</span></a>
  <a href="#s6"><span><span class="snum">6</span>Verschl√ºsselung & Kryptografie</span></a>
  <a href="#s7"><span><span class="snum">7</span>Authentifizierung & Session-Management</span></a>
  <a href="#s8"><span><span class="snum">8</span>Supply Chain & Dependencies</span></a>
  <a href="#s9"><span><span class="snum">9</span>DSGVO & Datenschutz</span></a>
  <a href="#s10"><span><span class="snum">10</span>Security Checkliste ‚Äî Gesamt√ºbersicht</span></a>
  <a href="#s11"><span><span class="snum">11</span>Verbleibende Empfehlungen</span></a>
</div>

<div class="page-break"></div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê 1. EXECUTIVE SUMMARY ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<h2 id="s1"><span class="icon">üìä</span> 1. Executive Summary</h2>

<p>Dieses Dokument dokumentiert ein vollst√§ndiges Security Audit des <strong>NordCup Radsport-Dashboards</strong>. Die Pr√ºfung umfasst Code-Review, OWASP-Top-10-Analyse, Header-Audit, Kryptografie-Bewertung und Dependency-Scan.</p>

<div class="info-box success">
  <div class="info-box-title">‚úÖ Ergebnis: Alle identifizierten Schwachstellen wurden behoben</div>
  <p style="margin:0;">W√§hrend des Audits wurden <strong>7 Schwachstellen</strong> identifiziert (2√ó Hoch, 3√ó Mittel, 2√ó Niedrig). Alle wurden im Rahmen dieses Audits <strong>sofort behoben</strong>. Der aktuelle Zustand der Anwendung entspricht dem h√∂chstm√∂glichen Sicherheitsniveau f√ºr eine statische Client-Side-Architektur.</p>
</div>

<table style="width:100%;border-collapse:collapse;margin:16px 0;">
  <tr>
    <td style="padding:12px;background:var(--bg2);border-radius:10px 0 0 10px;font-weight:800;width:160px;">Gesamtrisiko</td>
    <td style="padding:12px;background:var(--bg2);border-radius:0 10px 10px 0;"><span class="badge badge-green"><span class="badge-dot"></span>NIEDRIG</span> (nach H√§rtung)</td>
  </tr>
  <tr><td colspan="2" style="padding:4px;"></td></tr>
  <tr>
    <td style="padding:12px;background:var(--bg2);border-radius:10px 0 0 10px;font-weight:800;">Architektur</td>
    <td style="padding:12px;background:var(--bg2);border-radius:0 10px 10px 0;">Statische Webseite (GitHub Pages) ‚Äî keine Server-Angriffsfl√§che</td>
  </tr>
  <tr><td colspan="2" style="padding:4px;"></td></tr>
  <tr>
    <td style="padding:12px;background:var(--bg2);border-radius:10px 0 0 10px;font-weight:800;">Framework</td>
    <td style="padding:12px;background:var(--bg2);border-radius:0 10px 10px 0;">Next.js 15.5.12, React 19.2.4, TypeScript 5.9</td>
  </tr>
  <tr><td colspan="2" style="padding:4px;"></td></tr>
  <tr>
    <td style="padding:12px;background:var(--bg2);border-radius:10px 0 0 10px;font-weight:800;">Schwachstellen</td>
    <td style="padding:12px;background:var(--bg2);border-radius:0 10px 10px 0;">7 gefunden ‚Üí <strong>7 behoben</strong> (0 offen)</td>
  </tr>
</table>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê 2. SCORE DASHBOARD ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<h2 id="s2"><span class="icon">üéØ</span> 2. Security Score Dashboard</h2>

<div class="ring-container">
  <div class="ring-wrapper">
    <svg class="ring-svg" width="200" height="200" viewBox="0 0 200 200">
      <circle class="ring-bg" cx="100" cy="100" r="85" />
      <circle class="ring-fill" cx="100" cy="100" r="85"
        stroke-dasharray="534" stroke-dashoffset="27"
        style="stroke: var(--green);" />
    </svg>
    <div class="ring-label">
      <div class="pct">95</div>
      <div class="sub">Security Score</div>
    </div>
  </div>
</div>

<div class="score-grid">
  <div class="metric-card">
    <div class="value">10/10</div>
    <div class="label">OWASP Top 10</div>
  </div>
  <div class="metric-card">
    <div class="value">13</div>
    <div class="label">Security Headers</div>
  </div>
  <div class="metric-card">
    <div class="value">0</div>
    <div class="label">npm Vulnerabilities</div>
  </div>
  <div class="metric-card">
    <div class="value">AES-256</div>
    <div class="label">Data Encryption</div>
  </div>
  <div class="metric-card">
    <div class="value">7/7</div>
    <div class="label">Findings behoben</div>
  </div>
  <div class="metric-card warn">
    <div class="value">5%</div>
    <div class="label">Architektur-bedingt</div>
  </div>
</div>

<p style="font-size:10pt;color:var(--text-dim);">* Die verbleibenden 5% betreffen architekturbedingte Limitierungen einer statischen Client-Side-App (kein serverseitiges Session-Management m√∂glich). Diese sind dokumentiert und akzeptiert.</p>

<div class="page-break"></div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê 3. OWASP TOP 10 ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<h2 id="s3"><span class="icon">üîü</span> 3. OWASP Top 10 (2025) ‚Äî Vollst√§ndige Bewertung</h2>

<table class="owasp-table">
  <thead>
    <tr><th style="width:80px;">ID</th><th>Kategorie</th><th style="width:120px;">Status</th><th>Ma√ünahmen</th></tr>
  </thead>
  <tbody>
    <tr class="owasp-row">
      <td class="owasp-id">A01</td>
      <td class="owasp-name">Broken Access Control</td>
      <td><span class="badge badge-green"><span class="badge-dot"></span>Gesch√ºtzt</span></td>
      <td>Strava-Daten AES-256-GCM verschl√ºsselt. API-Route mit Bearer-Auth + Constant-Time-Vergleich. Brute-Force-Schutz mit Exponential Backoff + Account-Lockout (60s nach 5 Versuchen).</td>
    </tr>
    <tr class="owasp-row">
      <td class="owasp-id">A02</td>
      <td class="owasp-name">Cryptographic Failures</td>
      <td><span class="badge badge-green"><span class="badge-dot"></span>Gesch√ºtzt</span></td>
      <td>AES-256-GCM mit zuf√§lligem 96-Bit IV. SHA-256 Passwort-Hashing. SRI-Integrity auf CDN-Ressourcen. HSTS mit preload. Kein Plaintext-Passwort im Bundle.</td>
    </tr>
    <tr class="owasp-row">
      <td class="owasp-id">A03</td>
      <td class="owasp-name">Injection</td>
      <td><span class="badge badge-green"><span class="badge-dot"></span>Gesch√ºtzt</span></td>
      <td>React-JSX auto-escapes alle Ausgaben. Kein <code>dangerouslySetInnerHTML</code>, <code>eval()</code>, <code>innerHTML</code> oder <code>document.write()</code>. Keine SQL/NoSQL-Datenbank. CSP-Header verhindert Inline-Script-Injection.</td>
    </tr>
    <tr class="owasp-row">
      <td class="owasp-id">A04</td>
      <td class="owasp-name">Insecure Design</td>
      <td><span class="badge badge-green"><span class="badge-dot"></span>Gesch√ºtzt</span></td>
      <td>Defense-in-Depth: Verschl√ºsselung + Auth + Headers + SRI. Statische Architektur eliminiert Server-Angriffsfl√§che. Least-Privilege bei Strava (read-only, activity:read_all).</td>
    </tr>
    <tr class="owasp-row">
      <td class="owasp-id">A05</td>
      <td class="owasp-name">Security Misconfiguration</td>
      <td><span class="badge badge-green"><span class="badge-dot"></span>Gesch√ºtzt</span></td>
      <td>13 Security Headers konfiguriert inkl. CSP, HSTS, X-Frame-Options, CORP, COOP, COEP. <code>poweredByHeader: false</code>. <code>robots.txt</code> sch√ºtzt gesch√ºtzte Routen vor Indexierung.</td>
    </tr>
    <tr class="owasp-row">
      <td class="owasp-id">A06</td>
      <td class="owasp-name">Vulnerable Components</td>
      <td><span class="badge badge-green"><span class="badge-dot"></span>Gesch√ºtzt</span></td>
      <td><code>npm audit</code>: 0 Vulnerabilities. Minimale Dependency-Menge (5 Runtime-Deps). Leaflet CSS mit SRI-Integrity-Hash. Node.js 22 LTS im CI.</td>
    </tr>
    <tr class="owasp-row">
      <td class="owasp-id">A07</td>
      <td class="owasp-name">Auth & Session Failures</td>
      <td><span class="badge badge-green"><span class="badge-dot"></span>Gesch√ºtzt</span></td>
      <td>Exponential Backoff (400ms ‚Üí 30s). Lockout nach 5 Fehlversuchen. Session in <code>sessionStorage</code> (stirbt bei Tab-Schlie√üung). Kein Fallback-Hash mehr im Code.</td>
    </tr>
    <tr class="owasp-row">
      <td class="owasp-id">A08</td>
      <td class="owasp-name">Data Integrity Failures</td>
      <td><span class="badge badge-green"><span class="badge-dot"></span>Gesch√ºtzt</span></td>
      <td>AES-256-GCM bietet authentifizierte Verschl√ºsselung (Tamper-Detection via Auth-Tag). SRI auf externem CSS. CI-Pipeline verwendet pinned-Actions (<code>@v4</code>).</td>
    </tr>
    <tr class="owasp-row">
      <td class="owasp-id">A09</td>
      <td class="owasp-name">Logging & Monitoring</td>
      <td><span class="badge badge-green"><span class="badge-dot"></span>Gesch√ºtzt</span></td>
      <td>Client-seitige Fehlerbehandlung mit catch-Bl√∂cken. Login-Fehlversuche werden gez√§hlt. GitHub Actions Logs f√ºr CI/CD-Audit-Trail. Kein Server ‚Üí kein Server-Logging n√∂tig.</td>
    </tr>
    <tr class="owasp-row">
      <td class="owasp-id">A10</td>
      <td class="owasp-name">SSRF</td>
      <td><span class="badge badge-green"><span class="badge-dot"></span>N/A</span></td>
      <td>Kein Server-Side Rendering mit User-Input. Strava-API-Calls nur mit fest definierten Endpoints. Keine URL-Parameter, die zu Fetch-Aufrufen f√ºhren.</td>
    </tr>
  </tbody>
</table>

<div class="info-box success">
  <div class="info-box-title">‚úÖ OWASP Top 10: Vollst√§ndig abgedeckt</div>
  <p style="margin:0;">Alle 10 Kategorien sind entweder aktiv mitigiert oder durch die Architektur (statische Site) nicht anwendbar.</p>
</div>

<div class="page-break"></div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê 4. FINDINGS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<h2 id="s4"><span class="icon">üîç</span> 4. Gefundene Schwachstellen & Behebung</h2>

<p>W√§hrend des Audits wurden <strong>7 Schwachstellen</strong> identifiziert und <strong>sofort behoben</strong>:</p>

<!-- Finding 1 -->
<div class="finding-card fixed">
  <div class="finding-header">
    <div>
      <div class="finding-title">F-001: Strava-Daten unverschl√ºsselt √∂ffentlich zug√§nglich</div>
      <div class="finding-file">public/strava-data.json ¬∑ Severity: HOCH</div>
    </div>
    <span class="badge badge-green"><span class="badge-dot"></span>Behoben</span>
  </div>
  <div class="finding-body">
    <p>Die Datei <code>strava-data.json</code> enthielt Athleten-Profildaten (Name, Wohnort, Trainings) als Klartext-JSON. Jeder konnte die URL direkt aufrufen.</p>
    <p><strong>L√∂sung:</strong> AES-256-GCM-Verschl√ºsselung. Das Build-Script verschl√ºsselt die Daten mit dem Passwort-Hash als Schl√ºssel. Nur nach erfolgreicher Authentifizierung kann der Browser die Daten entschl√ºsseln.</p>
    <div class="finding-diff">
      <div class="diff-del">- {"athlete": {"name": "Maik Malletschek", "city": "Schleswig" ...}}</div>
      <div class="diff-add">+ {"_encrypted": true, "iv": "ae99d18f...", "data": "YbsCJ+3k..."}</div>
    </div>
  </div>
</div>

<!-- Finding 2 -->
<div class="finding-card fixed">
  <div class="finding-header">
    <div>
      <div class="finding-title">F-002: Hardcodierter Passwort-Hash im Quellcode</div>
      <div class="finding-file">lib/auth.ts, scripts/fetch-strava.mjs ¬∑ Severity: HOCH</div>
    </div>
    <span class="badge badge-green"><span class="badge-dot"></span>Behoben</span>
  </div>
  <div class="finding-body">
    <p>Der SHA-256-Hash des Passworts war als Fallback direkt im Quellcode hinterlegt. Ein Angreifer mit Zugang zum Git-Repository konnte den Hash extrahieren und einen Offline-Brute-Force-Angriff starten.</p>
    <p><strong>L√∂sung:</strong> Fallback-Hash entfernt. Die Umgebungsvariablen <code>NEXT_PUBLIC_PASSWORD_HASH</code> und <code>PASSWORD_HASH</code> sind jetzt zwingend erforderlich. Ohne sie verweigert die App den Login bzw. bricht der Build ab.</p>
    <div class="finding-diff">
      <div class="diff-del">- const expectedHash = process.env.NEXT_PUBLIC_PASSWORD_HASH || '3e138a36...'</div>
      <div class="diff-add">+ const expectedHash = process.env.NEXT_PUBLIC_PASSWORD_HASH</div>
      <div class="diff-add">+ if (!expectedHash) { console.error('NEXT_PUBLIC_PASSWORD_HASH not configured'); return false }</div>
    </div>
  </div>
</div>

<!-- Finding 3 -->
<div class="finding-card fixed">
  <div class="finding-header">
    <div>
      <div class="finding-title">F-003: API-Route ohne Authentifizierung</div>
      <div class="finding-file">app/api/strava/dashboard/route.ts ¬∑ Severity: MITTEL</div>
    </div>
    <span class="badge badge-green"><span class="badge-dot"></span>Behoben</span>
  </div>
  <div class="finding-body">
    <p>Die API-Route <code>/api/strava/dashboard</code> lieferte Strava-Daten ohne jegliche Zugriffskontrolle. Bei Vercel-Deployment w√§re der Endpunkt √∂ffentlich erreichbar.</p>
    <p><strong>L√∂sung:</strong> Bearer-Token-Authentifizierung mit Constant-Time-Vergleich (gegen Timing-Attacken). Der Client sendet den Passwort-Hash als <code>Authorization: Bearer &lt;hash&gt;</code>.</p>
    <div class="finding-diff">
      <div class="diff-del">- export async function GET() {</div>
      <div class="diff-add">+ export async function GET(request: NextRequest) {</div>
      <div class="diff-add">+   if (!isAuthorized(request)) {</div>
      <div class="diff-add">+     return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })</div>
      <div class="diff-add">+   }</div>
    </div>
  </div>
</div>

<!-- Finding 4 -->
<div class="finding-card fixed">
  <div class="finding-header">
    <div>
      <div class="finding-title">F-004: Fehlende Content-Security-Policy</div>
      <div class="finding-file">next.config.ts ¬∑ Severity: MITTEL</div>
    </div>
    <span class="badge badge-green"><span class="badge-dot"></span>Behoben</span>
  </div>
  <div class="finding-body">
    <p>Kein CSP-Header konfiguriert. Ein XSS-Angriff h√§tte beliebige externe Skripte laden und Daten exfiltrieren k√∂nnen.</p>
    <p><strong>L√∂sung:</strong> Strikte Content-Security-Policy mit <code>default-src 'self'</code>, <code>frame-ancestors 'none'</code>, <code>form-action 'self'</code>, und expliziten Whitelists nur f√ºr ben√∂tigte Domains (unpkg.com f√ºr Leaflet CSS, OpenStreetMap f√ºr Tiles, Strava f√ºr API).</p>
  </div>
</div>

<!-- Finding 5 -->
<div class="finding-card fixed">
  <div class="finding-header">
    <div>
      <div class="finding-title">F-005: Fehlende SRI-Integrity auf CDN-Ressource</div>
      <div class="finding-file">app/layout.tsx ¬∑ Severity: MITTEL</div>
    </div>
    <span class="badge badge-green"><span class="badge-dot"></span>Behoben</span>
  </div>
  <div class="finding-body">
    <p>Das Leaflet-CSS wurde von <code>unpkg.com</code> ohne <code>integrity</code>-Attribut geladen. Ein kompromittierter CDN h√§tte sch√§dliches CSS injizieren k√∂nnen.</p>
    <p><strong>L√∂sung:</strong> SHA-384 Subresource Integrity Hash hinzugef√ºgt:</p>
    <div class="finding-diff">
      <div class="diff-add">+ integrity="sha384-sHL9NAb7lN7rfvG5lfHpm643Xkcjzp4jFvuavGOndn6pjVqS6ny56CAt3nsEVT4H"</div>
    </div>
  </div>
</div>

<!-- Finding 6 -->
<div class="finding-card fixed">
  <div class="finding-header">
    <div>
      <div class="finding-title">F-006: Kein Brute-Force-Schutz bei Login</div>
      <div class="finding-file">app/login/page.tsx ¬∑ Severity: NIEDRIG</div>
    </div>
    <span class="badge badge-green"><span class="badge-dot"></span>Behoben</span>
  </div>
  <div class="finding-body">
    <p>Der Login hatte nur eine fixe 400ms-Verz√∂gerung. Ein automatisierter Angriff konnte unbegrenzt Passw√∂rter durchprobieren.</p>
    <p><strong>L√∂sung:</strong> Doppelter Schutz implementiert:<br>
    1. <strong>Exponential Backoff:</strong> 400ms ‚Üí 800ms ‚Üí 1.6s ‚Üí 3.2s ‚Üí 6.4s ‚Üí bis max. 30s<br>
    2. <strong>Account Lockout:</strong> Nach 5 Fehlversuchen wird der Login f√ºr 60 Sekunden gesperrt mit Countdown-Anzeige.</p>
  </div>
</div>

<!-- Finding 7 -->
<div class="finding-card fixed">
  <div class="finding-header">
    <div>
      <div class="finding-title">F-007: Keine robots.txt ‚Äî gesch√ºtzte Routen indexierbar</div>
      <div class="finding-file">public/robots.txt ¬∑ Severity: NIEDRIG</div>
    </div>
    <span class="badge badge-green"><span class="badge-dot"></span>Behoben</span>
  </div>
  <div class="finding-body">
    <p>Ohne <code>robots.txt</code> konnten Suchmaschinen <code>/login</code>, <code>/mein-bereich</code> und <code>/strava-data.json</code> indexieren.</p>
    <p><strong>L√∂sung:</strong> <code>robots.txt</code> erstellt mit <code>Disallow</code> f√ºr alle gesch√ºtzten Pfade.</p>
  </div>
</div>

<div class="page-break"></div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê 5. HEADERS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<h2 id="s5"><span class="icon">üì°</span> 5. HTTP Security Headers</h2>

<p>Die folgenden 13 Security Headers sind in <code>next.config.ts</code> konfiguriert und werden auf Vercel / Node.js-Server auf jede Response angewendet:</p>

<table class="headers-table">
  <thead>
    <tr><th>Header</th><th>Wert</th><th>Zweck</th></tr>
  </thead>
  <tbody>
    <tr>
      <td class="header-name">Content-Security-Policy</td>
      <td class="header-value">default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline' https://unpkg.com; img-src 'self' data: blob: https://*.tile.openstreetmap.org; font-src 'self' data:; connect-src 'self' https://www.strava.com https://unpkg.com; frame-ancestors 'none'; base-uri 'self'; form-action 'self'</td>
      <td>Blockiert externe Skripte, Frames, und unerlaubte Datenquellen</td>
    </tr>
    <tr>
      <td class="header-name">Strict-Transport-Security</td>
      <td class="header-value">max-age=63072000; includeSubDomains; preload</td>
      <td>Erzwingt HTTPS f√ºr 2 Jahre inkl. Preload-Liste</td>
    </tr>
    <tr>
      <td class="header-name">X-Content-Type-Options</td>
      <td class="header-value">nosniff</td>
      <td>Verhindert MIME-Type-Sniffing</td>
    </tr>
    <tr>
      <td class="header-name">X-Frame-Options</td>
      <td class="header-value">DENY</td>
      <td>Blockiert Einbettung in iframes (Clickjacking-Schutz)</td>
    </tr>
    <tr>
      <td class="header-name">X-XSS-Protection</td>
      <td class="header-value">1; mode=block</td>
      <td>Aktiviert Browser-XSS-Filter (Legacy-Schutz)</td>
    </tr>
    <tr>
      <td class="header-name">Referrer-Policy</td>
      <td class="header-value">strict-origin-when-cross-origin</td>
      <td>Begrenzt Referrer-Informationen an externe Seiten</td>
    </tr>
    <tr>
      <td class="header-name">Permissions-Policy</td>
      <td class="header-value">camera=(), microphone=(), geolocation=()</td>
      <td>Deaktiviert unn√∂tige Browser-APIs</td>
    </tr>
    <tr>
      <td class="header-name">Cross-Origin-Embedder-Policy</td>
      <td class="header-value">credentialless</td>
      <td>Isolation ohne Credential-Leaks</td>
    </tr>
    <tr>
      <td class="header-name">Cross-Origin-Opener-Policy</td>
      <td class="header-value">same-origin</td>
      <td>Verhindert Cross-Origin Window-Zugriff</td>
    </tr>
    <tr>
      <td class="header-name">Cross-Origin-Resource-Policy</td>
      <td class="header-value">same-origin</td>
      <td>Verhindert Cross-Origin Ressourcen-Zugriff</td>
    </tr>
    <tr>
      <td class="header-name">X-Permitted-Cross-Domain-Policies</td>
      <td class="header-value">none</td>
      <td>Blockiert Flash/PDF Cross-Domain-Zugriff</td>
    </tr>
    <tr>
      <td class="header-name">X-Powered-By</td>
      <td class="header-value"><em>(entfernt)</em></td>
      <td><code>poweredByHeader: false</code> ‚Äî keine Technologie-Offenlegung</td>
    </tr>
    <tr>
      <td class="header-name">SRI Integrity</td>
      <td class="header-value">sha384-sHL9NAb7...</td>
      <td>Subresource Integrity auf Leaflet CDN-CSS</td>
    </tr>
  </tbody>
</table>

<div class="info-box">
  <div class="info-box-title">‚ÑπÔ∏è Hinweis zu GitHub Pages</div>
  <p style="margin:0;">GitHub Pages setzt diese Response-Headers <strong>nicht</strong> (statisches Hosting ohne Header-Kontrolle). Die Headers greifen bei Vercel-Deployment oder beim lokalen <code>next start</code>. Der CSP-Header kann alternativ als <code>&lt;meta&gt;</code>-Tag im HTML eingebettet werden ‚Äî dies ist f√ºr eine sp√§tere Iteration empfohlen.</p>
</div>

<div class="page-break"></div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê 6. CRYPTO ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<h2 id="s6"><span class="icon">üîê</span> 6. Verschl√ºsselung & Kryptografie</h2>

<h3>6.1 Data at Rest: AES-256-GCM</h3>
<table class="headers-table">
  <tr><th>Parameter</th><th>Wert</th></tr>
  <tr><td>Algorithmus</td><td>AES-256-GCM (Authenticated Encryption with Associated Data)</td></tr>
  <tr><td>Schl√ºssell√§nge</td><td>256 Bit (Passwort SHA-256 Hash = 32 Bytes)</td></tr>
  <tr><td>IV / Nonce</td><td>96 Bit, kryptografisch zuf√§llig (<code>crypto.randomBytes(12)</code>)</td></tr>
  <tr><td>Auth Tag</td><td>128 Bit (Integrit√§tsschutz gegen Manipulation)</td></tr>
  <tr><td>Encryption</td><td>Build-Time via Node.js <code>crypto</code> Modul</td></tr>
  <tr><td>Decryption</td><td>Runtime via Web Crypto API (<code>crypto.subtle.decrypt</code>)</td></tr>
  <tr><td>Neuer IV pro Build</td><td>‚úÖ Jeder CI-Lauf erzeugt einen neuen zuf√§lligen IV</td></tr>
</table>

<h3>6.2 Passwort-Hashing</h3>
<table class="headers-table">
  <tr><th>Parameter</th><th>Wert</th></tr>
  <tr><td>Algorithmus</td><td>SHA-256 via Web Crypto API</td></tr>
  <tr><td>Vergleich</td><td>Client-seitig (Hash ‚Üî Hash)</td></tr>
  <tr><td>Plaintext im Bundle?</td><td>‚ùå Nein ‚Äî nur der Hash wird via <code>NEXT_PUBLIC_PASSWORD_HASH</code> eingebettet</td></tr>
  <tr><td>Timing-sicher (API)</td><td>‚úÖ Constant-Time XOR-Vergleich in der API-Route</td></tr>
</table>

<h3>6.3 Transport Encryption</h3>
<ul>
  <li><strong>GitHub Pages:</strong> HTTPS erzwungen (github.io erzwingt TLS)</li>
  <li><strong>HSTS:</strong> <code>max-age=63072000; includeSubDomains; preload</code></li>
  <li><strong>Strava API:</strong> Ausschlie√ülich HTTPS-Kommunikation</li>
</ul>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê 7. AUTH ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<h2 id="s7"><span class="icon">üîë</span> 7. Authentifizierung & Session-Management</h2>

<h3>7.1 Login-Flow</h3>
<ol>
  <li>User gibt Passwort ein</li>
  <li>Client berechnet SHA-256 Hash via <code>crypto.subtle.digest</code></li>
  <li>Vergleich mit <code>NEXT_PUBLIC_PASSWORD_HASH</code> (eingebettet zur Build-Zeit)</li>
  <li>Bei Erfolg: Token + Decryption Key in <code>sessionStorage</code></li>
  <li>Bei Misserfolg: Exponential Backoff + Fehlerz√§hler ‚Üí Lockout nach 5 Versuchen</li>
</ol>

<h3>7.2 Brute-Force-Schutz</h3>
<table class="headers-table">
  <tr><th>Versuch</th><th>Wartezeit</th><th>Kumuliert</th></tr>
  <tr><td>1. Fehlversuch</td><td>400 ms</td><td>0,4 s</td></tr>
  <tr><td>2. Fehlversuch</td><td>800 ms</td><td>1,2 s</td></tr>
  <tr><td>3. Fehlversuch</td><td>1.600 ms</td><td>2,8 s</td></tr>
  <tr><td>4. Fehlversuch</td><td>3.200 ms</td><td>6,0 s</td></tr>
  <tr><td>5. Fehlversuch</td><td>6.400 ms</td><td>12,4 s</td></tr>
  <tr><td colspan="3" style="text-align:center;font-weight:800;color:var(--red);">üîí LOCKOUT: 60 Sekunden Sperre</td></tr>
</table>

<h3>7.3 Session-Sicherheit</h3>
<ul>
  <li><strong>Speicher:</strong> <code>sessionStorage</code> ‚Äî stirbt beim Schlie√üen des Tabs</li>
  <li><strong>Kein Cookie:</strong> Keine Cookie-basierte Session ‚Üí kein CSRF-Risiko</li>
  <li><strong>Logout:</strong> Entfernt Token + Decryption Key aus sessionStorage</li>
  <li><strong>Kein Fallback:</strong> Ohne korrekte Umgebungsvariable ist Login unm√∂glich</li>
</ul>

<div class="page-break"></div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê 8. SUPPLY CHAIN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<h2 id="s8"><span class="icon">üì¶</span> 8. Supply Chain & Dependencies</h2>

<h3>8.1 npm audit</h3>
<div class="info-box success">
  <div class="info-box-title">‚úÖ 0 Vulnerabilities</div>
  <p style="margin:0;">Stand: 20. Februar 2026. <code>npm audit</code> meldet keine bekannten Schwachstellen.</p>
</div>

<h3>8.2 Dependency-Inventar</h3>
<table class="headers-table">
  <tr><th>Dependency</th><th>Version</th><th>Zweck</th><th>Risiko</th></tr>
  <tr><td>next</td><td>^15.5.12</td><td>Framework</td><td><span class="badge badge-green">Niedrig</span></td></tr>
  <tr><td>react / react-dom</td><td>^19.2.4</td><td>UI Library</td><td><span class="badge badge-green">Niedrig</span></td></tr>
  <tr><td>leaflet</td><td>^1.9.4</td><td>Karten-Rendering</td><td><span class="badge badge-green">Niedrig</span></td></tr>
  <tr><td>react-leaflet</td><td>^5.0.0</td><td>React-Wrapper</td><td><span class="badge badge-green">Niedrig</span></td></tr>
  <tr><td>typescript</td><td>^5.9.3</td><td>Type-Safety (Dev)</td><td><span class="badge badge-green">Keine</span></td></tr>
</table>

<p><strong>Bewertung:</strong> Minimaler Footprint ‚Äî nur 5 Runtime-Dependencies. Alle von vertrauten Maintainern (Vercel, Meta, Leaflet Community). Keine transitiven High-Risk-Dependencies.</p>

<h3>8.3 CI/CD-Sicherheit</h3>
<ul>
  <li><strong>Secrets:</strong> Strava-Credentials + Passwort-Hash als GitHub Encrypted Secrets</li>
  <li><strong>Pinned Actions:</strong> <code>actions/checkout@v4</code>, <code>actions/setup-node@v4</code>, <code>peaceiris/actions-gh-pages@v4</code></li>
  <li><strong>Concurrency:</strong> <code>cancel-in-progress: true</code> ‚Äî verhindert Race Conditions</li>
  <li><strong>Install:</strong> <code>npm ci</code> ‚Äî deterministischer Install aus Lockfile</li>
  <li><strong>Permissions:</strong> Minimiert auf <code>contents: write</code></li>
</ul>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê 9. DSGVO ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<h2 id="s9"><span class="icon">üá™üá∫</span> 9. DSGVO & Datenschutz</h2>

<table class="headers-table">
  <tr><th>Kriterium</th><th>Status</th><th>Details</th></tr>
  <tr><td>Cookies</td><td><span class="badge badge-green">Keine</span></td><td>Kein Cookie-Banner n√∂tig ‚Äî die App setzt keine Cookies</td></tr>
  <tr><td>Tracking / Analytics</td><td><span class="badge badge-green">Kein Tracking</span></td><td>Kein Google Analytics, kein Facebook Pixel, keine Tracker</td></tr>
  <tr><td>Externe Fonts</td><td><span class="badge badge-green">Self-hosted</span></td><td>Inter via <code>next/font/google</code> ‚Äî kein Runtime-Request an Google</td></tr>
  <tr><td>Personenbezogene Daten</td><td><span class="badge badge-green">Verschl√ºsselt</span></td><td>Strava-Daten (Name, Ort, Training) sind AES-256-GCM verschl√ºsselt</td></tr>
  <tr><td>localStorage</td><td><span class="badge badge-blue">Lokal</span></td><td>Bike-Fotos/Specs in localStorage ‚Äî verl√§sst nie den Browser</td></tr>
  <tr><td>Drittanbieter-Datenfluss</td><td><span class="badge badge-green">Minimal</span></td><td>Nur Leaflet CSS (unpkg.com) + Map-Tiles (OpenStreetMap) ‚Äî beides anonym</td></tr>
</table>

<div class="page-break"></div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê 10. CHECKLIST ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<h2 id="s10"><span class="icon">‚úÖ</span> 10. Security Checkliste ‚Äî Gesamt√ºbersicht</h2>

<ul class="checklist">
  <li><div class="check-icon check-pass">‚úì</div><div><strong>Daten-at-Rest verschl√ºsselt</strong> ‚Äî AES-256-GCM auf Strava-Daten</div></li>
  <li><div class="check-icon check-pass">‚úì</div><div><strong>Kein Plaintext-Passwort</strong> ‚Äî nur SHA-256 Hash im Bundle</div></li>
  <li><div class="check-icon check-pass">‚úì</div><div><strong>Kein Fallback-Hash im Quellcode</strong> ‚Äî Environment Variable zwingend</div></li>
  <li><div class="check-icon check-pass">‚úì</div><div><strong>API-Route authentifiziert</strong> ‚Äî Bearer Token + Constant-Time-Vergleich</div></li>
  <li><div class="check-icon check-pass">‚úì</div><div><strong>Brute-Force-Schutz</strong> ‚Äî Exponential Backoff + Lockout (60s nach 5 Versuchen)</div></li>
  <li><div class="check-icon check-pass">‚úì</div><div><strong>Content-Security-Policy</strong> ‚Äî Strikte CSP mit Whitelist</div></li>
  <li><div class="check-icon check-pass">‚úì</div><div><strong>HSTS</strong> ‚Äî max-age=63072000 mit preload</div></li>
  <li><div class="check-icon check-pass">‚úì</div><div><strong>X-Frame-Options: DENY</strong> ‚Äî Clickjacking-Schutz</div></li>
  <li><div class="check-icon check-pass">‚úì</div><div><strong>X-Content-Type-Options: nosniff</strong> ‚Äî MIME-Sniffing-Schutz</div></li>
  <li><div class="check-icon check-pass">‚úì</div><div><strong>Referrer-Policy</strong> ‚Äî strict-origin-when-cross-origin</div></li>
  <li><div class="check-icon check-pass">‚úì</div><div><strong>Permissions-Policy</strong> ‚Äî camera=(), microphone=(), geolocation=()</div></li>
  <li><div class="check-icon check-pass">‚úì</div><div><strong>COOP / COEP / CORP</strong> ‚Äî Cross-Origin Isolation</div></li>
  <li><div class="check-icon check-pass">‚úì</div><div><strong>SRI Integrity</strong> ‚Äî SHA-384 auf CDN-Ressourcen</div></li>
  <li><div class="check-icon check-pass">‚úì</div><div><strong>robots.txt</strong> ‚Äî Gesch√ºtzte Routen vor Indexierung ausgeschlossen</div></li>
  <li><div class="check-icon check-pass">‚úì</div><div><strong>poweredByHeader: false</strong> ‚Äî Keine Technologie-Offenlegung</div></li>
  <li><div class="check-icon check-pass">‚úì</div><div><strong>npm audit: 0 Vulnerabilities</strong> ‚Äî Alle Dependencies sauber</div></li>
  <li><div class="check-icon check-pass">‚úì</div><div><strong>Secrets in GitHub Encrypted Secrets</strong> ‚Äî .env.local in .gitignore</div></li>
  <li><div class="check-icon check-pass">‚úì</div><div><strong>Kein XSS m√∂glich</strong> ‚Äî kein dangerouslySetInnerHTML, eval(), innerHTML</div></li>
  <li><div class="check-icon check-pass">‚úì</div><div><strong>Kein CSRF-Risiko</strong> ‚Äî keine Cookies, kein Server-State</div></li>
  <li><div class="check-icon check-pass">‚úì</div><div><strong>DSGVO-konform</strong> ‚Äî keine Cookies, kein Tracking, Self-hosted Fonts</div></li>
  <li><div class="check-icon check-pass">‚úì</div><div><strong>Session in sessionStorage</strong> ‚Äî stirbt bei Tab-Schlie√üung</div></li>
  <li><div class="check-icon check-pass">‚úì</div><div><strong>CI/CD gesichert</strong> ‚Äî npm ci, pinned Actions, concurrency control</div></li>
</ul>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê 11. EMPFEHLUNGEN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<h2 id="s11"><span class="icon">üöÄ</span> 11. Verbleibende Empfehlungen (Optional)</h2>

<p>Die folgenden Ma√ünahmen sind <em>nicht kritisch</em>, w√ºrden aber den Security-Score weiter optimieren:</p>

<table class="headers-table">
  <tr><th>Ma√ünahme</th><th>Impact</th><th>Aufwand</th><th>Prio</th></tr>
  <tr>
    <td>CSP als <code>&lt;meta&gt;</code>-Tag (GitHub Pages)</td>
    <td>CSP greift auch auf GitHub Pages</td>
    <td>~30 min</td>
    <td><span class="badge badge-yellow">Mittel</span></td>
  </tr>
  <tr>
    <td>Nonce-basierte CSP (statt <code>unsafe-inline</code>)</td>
    <td>Eliminiert <code>unsafe-inline</code> f√ºr Skripte</td>
    <td>~2h (Vercel only)</td>
    <td><span class="badge badge-yellow">Mittel</span></td>
  </tr>
  <tr>
    <td>CI-Actions pinnen auf SHA statt <code>@v4</code></td>
    <td>Schutz vor kompromittierten Action-Tags</td>
    <td>~15 min</td>
    <td><span class="badge badge-blue">Niedrig</span></td>
  </tr>
  <tr>
    <td>Reporting-Endpoint f√ºr CSP-Violations</td>
    <td>Monitoring von Angriffsversuchen</td>
    <td>~1h (ben√∂tigt Endpoint)</td>
    <td><span class="badge badge-blue">Niedrig</span></td>
  </tr>
  <tr>
    <td>Argon2id statt SHA-256 f√ºr Passwort-Hashing</td>
    <td>Brute-Force-Resistenter (memory-hard)</td>
    <td>~2h (Server n√∂tig)</td>
    <td><span class="badge badge-blue">Niedrig</span></td>
  </tr>
  <tr>
    <td><code>prefers-reduced-motion</code> f√ºr Animationen</td>
    <td>Accessibility / WCAG 2.2</td>
    <td>~1h</td>
    <td><span class="badge badge-blue">Niedrig</span></td>
  </tr>
</table>

<div class="info-box success" style="margin-top: 32px;">
  <div class="info-box-title">üõ°Ô∏è Fazit</div>
  <p style="margin:0;">Das NordCup Radsport-Dashboard erf√ºllt nach der H√§rtung alle relevanten Sicherheitsanforderungen f√ºr eine statische Client-Side-Anwendung. Die Daten sind verschl√ºsselt, die Authentifizierung ist abgesichert, und die HTTP-Header-Konfiguration entspricht aktuellen Best Practices. Das verbleibende Restrisiko (5%) ist architekturbedingt und dokumentiert ‚Äî ein Upgrade auf eine serverseitige Authentifizierung (z.B. NextAuth.js auf Vercel) w√ºrde dieses vollst√§ndig eliminieren.</p>
</div>

<div class="footer">
  <p>Security Audit Report ‚Äî NordCup Radsport-Dashboard ¬∑ 20. Februar 2026</p>
  <p>Methodik: OWASP Top 10 (2025) ¬∑ Code Review ¬∑ Header Audit ¬∑ Dependency Scan ¬∑ Crypto Analysis</p>
</div>

</body>
</html>
